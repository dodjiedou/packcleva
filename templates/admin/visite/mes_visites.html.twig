{% extends 'admin/base.html.twig' %}


{% block wrapper %}

    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="text-info m-0"> visites</h1>
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="{{ path('liste_beneficiaire_visite') }}">Retour</a></li>
              <li class="breadcrumb-item active">visite</li>
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->
  {% endblock %}

{% block body %}

      {% if app.session.flashBag.has('modifiervisite') %}
     <div class="col-8 text-center mx-auto alert alert-info">
            {% for msg in app.session.flashBag.get('modifiervisite') %}
              <p>  {{ msg }}</p>
            {% endfor %}
        </div>
    {% endif %}
    

       <div class=" py-4 ">
          <div class="card table-responsive-sm">
            <table  id="example1" class="table table-hover px-3 py-4  ">
              <thead >
                <tr class="table-secondary">
                  <th class="">N°</th>
                  <th lass=""">DATE</th>
                   <th lass=""">DESCRIPTION</th>
                  <th class="">CATEGORIE DE VISITE</th>
                  <th class="">PHTO</th>
                 <th colspan="4" class="text-center">ACTIONS</th>
                  
                </tr>
              </thead>
              <tbody>
                {% for key, visite in visites %}

                  <tr>

                    <td class="">{{ key+1 }}</td>

                    <td class="">{{visite.date|date("d-m-Y") }} </td>

                    <td class="">{{ visite.description }}</td>

                    <td class="">{{visite.categorieVisite.nom}}</td>

                    <td class="">{{visite.photo}}</td>

                    <td style="width : 140px" class="">

                    {% if visite.suivi is null %}
                        <a href="{{ path('create_suivi' , {"id": visite.id}) }}" class="btn btn-primary btn-sm rounded btn-block  " role="button" title=""><i class="fas fa-hdd"></i> Faire le suivi</a>
                     {% else %}

                        <a href="#" class="btn btn-success btn-sm rounded btn-block " role="button" title=""><i class="fas fa-hdd"></i>Déjà fait</a>


                     {% endif %}

                    </td>
                   
                    <td style="width : 120px" class="">
                    
                        <a href="{{ path('show_suivi', {"id": visite.id} ) }}" class="btn btn-info  btn-sm rounded  btn-block " role="button" title=""><i class="fas fa-eye"></i>Suivi</a> 
                   
                    </td>

                    <td class="">
                    <a href="{{ path('edit_visite', {"id": visite.id}) }}" class="btn btn-warning btn-sm rounded  " role="button" title="Lien 1"> <i class="fas fa-pencil-alt"></i>Edit</a> </td>

                    <td class="">
                    <a href="{{ path('delete_visite', {"id": visite.id} ) }}" class="btn btn-danger btn-sm rounded  " role="button" title="Lien 1">  <i class="fas fa-trash"></i>Delete</a> </td>

                

                    
                  </tr>
                {% endfor %}
              </tbody>
            </table>
    </div>
  </div> 

{% endblock %}



  


